# 구현할 기능 목록

- [x] 다리 건너기 게임 시작 출력
- [x] 다리 길이 입력
  - [x] 정수로 전환 가능한가?
  - [x] 3 이상 20이하인가?
- [x] 다리 생성
- [x] 이동할 칸 입력
  - [x] U 또는 D인가?
- [ ] 이동한 결과 출력
- [x] 이동 칸에 따른 로그 기록
- [x] 실패한 경우 게임 재시작/종료 여부 입력
  - [x] R 또는 Q인가?
- [x] 재시작 시 건넌 기록 말소
- [ ] 최종 게임 결과 출력



# 고민

## 일급 컬렉션

BridgeMaker에서는 안전한 다리의 칸을 지정해준다.

해당 결과는 List<String>인데, 이것들을 받아와 Bridge의 타입으로 변환하여 리스트로 들고있는 게 어떨까.

## 로그 남기기

다리에는 통과 가능한 D, U만 남는다.

로그에도 해당 데이터만 남긴다면?

어떤 칸을 골랐고, 해당 칸이 올바른 선택이었는지를 남겨야 한다.

그렇다면 `고른 칸, 결과`가 List 내에 있어야한다.

해당 묶음을 클래스로 만들고, 결과를 받아온 후 로그에 넣고, 출력 시 선택한 칸에 대한 데이터만 쭉 진행하며 작성한다면..

`로그 -> 로그 리스트 일급 컬렉션 -> 게임`의 순서가 된다.

헌데 로그 캐싱을 하려면 Map으로 해야 하는데.. 그것도 이중 Map을 써야 한다.

과연 이게 올바른 방법일까..? 별로 좋지 않아 보이니 1차적으로만 만들어 두고, 2차는 생성될 때 확인하고 없으면 넣는 방식으로 해야겠다.

### 출력 시의 관점

로그 리스트 일급 컬렉션에서 변경 불가한 리스트를 가져와 다리 갯수(N)만큼 읽으며, 현재 로그가 생성된 길이만큼(M) 읽는다. 그렇다면 걸리는 시간은 M * N인데, 이게 맞는걸까?

지난번에는 로그 자체를 2개의 List로 뒀으며, 건널 때마다 일치하는 List에 O 또는 X값을, 아닌 곳에는 공백값을 주는 방식으로 했었다.

전자는 메모리를 적게 쓸 수 있으나 출력을 위한 데이터를 만들어야 하고, 후자는 메모리를 * M배로 잡아먹지만 따로 문자열 생성 없이 내부 값을 바로 출력한다는 장점이 있다.

우선 이번에는 전자로 해보고, 둘 다 겪어보며 어떤 게 더 나은지 생각해봐야겠다.

## Controller의 역할과 책임

Controller는 어디까지나 사용자와 대화하는 곳이다.

사용자가 다리의 길이를 입력했다고 해서, BridgeMaker가 다리를 만드는 과정을 알 필요가 있을까?

해당 과정은 다리에 대한 정보를 들고 있을 BridgeGame 내에서 돌아가야 하는가? 아니면 중간의 무언가가 다리 생산을 부탁한 후 BridgeGame에게 전달해줘야 하는가?

만약 전달해주는 방식이라면 그게 Service가 해야 하는 일 아닐까?

전달이 아니라면 BridgeGame이 BridgeMaker를 알고 있어야 하는데, 내부에 지니고 있기보단 데이터를 전달받아 들고 있는 게 더 나을 것 같다.